"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[7617,1633],{92138:function(e,a,t){t.d(a,{ez:function(){return v}});var l=t(86500),r=t(1350),o=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function n(e){var a=e.r,t=e.g,r=e.b,o=(0,l.py)(a,t,r);return{h:360*o.h,s:o.s,v:o.v}}function u(e){var a=e.r,t=e.g,r=e.b;return"#".concat((0,l.vq)(a,t,r,!1))}function d(e,a,t){var l=t/100;return{r:(a.r-e.r)*l+e.r,g:(a.g-e.g)*l+e.g,b:(a.b-e.b)*l+e.b}}function s(e,a,t){var l;return(l=Math.round(e.h)>=60&&Math.round(e.h)<=240?t?Math.round(e.h)-2*a:Math.round(e.h)+2*a:t?Math.round(e.h)+2*a:Math.round(e.h)-2*a)<0?l+=360:l>=360&&(l-=360),l}function i(e,a,t){return 0===e.h&&0===e.s?e.s:((l=t?e.s-.16*a:4===a?e.s+.16:e.s+.05*a)>1&&(l=1),t&&5===a&&l>.1&&(l=.1),l<.06&&(l=.06),Number(l.toFixed(2)));var l}function c(e,a,t){var l;return(l=t?e.v+.05*a:e.v-.15*a)>1&&(l=1),Number(l.toFixed(2))}function m(e){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],l=(0,r.uA)(e),m=5;m>0;m-=1){var v=n(l),f=u((0,r.uA)({h:s(v,m,!0),s:i(v,m,!0),v:c(v,m,!0)}));t.push(f)}t.push(u(l));for(var w=1;w<=4;w+=1){var p=n(l),U=u((0,r.uA)({h:s(p,w),s:i(p,w),v:c(p,w)}));t.push(U)}return"dark"===a.theme?o.map((function(e){var l=e.index,o=e.opacity;return u(d((0,r.uA)(a.backgroundColor||"#141414"),(0,r.uA)(t[l]),100*o))})):t}var v={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},f={},w={};Object.keys(v).forEach((function(e){f[e]=m(v[e]),f[e].primary=f[e][5],w[e]=m(v[e],{theme:"dark",backgroundColor:"#141414"}),w[e].primary=w[e][5]}));f.red,f.volcano,f.gold,f.orange,f.yellow,f.lime,f.green,f.cyan,f.blue,f.geekblue,f.purple,f.magenta,f.grey},92781:function(e,a,t){t.r(a),t.d(a,{default:function(){return s}});t(63197);var l=t(60911),r=t(66252),o=t(2262),n=t(3577),u=t(50385),d=(0,r.aZ)({props:{...(0,u.Ot)(),strokeColor:{type:[String,Object,Function]}},setup(e){const a=e,t=(0,o.Fl)((()=>"function"==typeof a.strokeColor?{...a,strokeColor:a.strokeColor(a.percent)}:{...a,strokeColor:a.strokeColor}));return(e,a)=>((0,r.wg)(),(0,r.j4)((0,o.SU)(l.Z),(0,n.vs)((0,r.F4)((0,o.SU)(t))),null,16))}});var s=d},65461:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});t(93300);var l=t(96461),r=(t(12431),t(66900)),o=(t(84324),t(95878)),n=t(66252),u=t(2262),d=t(3577);function s(e,a=2){if(0===e)return"0 Bytes";const t=a<0?0:a,l=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,l)).toFixed(t))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][l]}var i=t(30803),c=t(5155);var m=t(92781);const v={class:"sys-server-stat-container"},f={class:"disk-info"},w={class:"disk-info--item"},p={class:"disk-info"},U={class:"disk-info--item"};var b=(0,n.aZ)({name:"SystemMonitorServe",setup(e){let a=-1;const t=(0,u.qj)({runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}),{runtime:b,disk:h,memory:S,cpu:k}=(0,u.BK)(t),y=(0,u.Fl)((()=>({size:s(h.value.size),used:s(h.value.used),available:s(h.value.available)}))),_=(0,u.Fl)((()=>({total:s(S.value.total),free:s(S.value.available),used:s(S.value.total-S.value.available)}))),g=(0,u.Fl)((()=>h.value.size<=0?0:Math.floor(h.value.used/h.value.size*100))),Z=(0,u.Fl)((()=>S.value.total<=0?0:Math.floor((S.value.total-S.value.available)/S.value.total*100))),W=(0,u.Fl)((()=>`${k.value.manufacturer} ${k.value.brand} @ ${k.value.speed}GHz`)),C=async()=>{const e=await(0,i.W)({url:c.default.stat,method:"get"});b.value=e.runtime,h.value=e.disk,S.value=e.memory,k.value=e.cpu};C();const P=e=>e<30?"#5cb87a":e<70?"#e6a23c":"#f53f3f",F=(e,a)=>a<=0?0:Math.floor(e/a*100);return(0,n.bv)((()=>{a=setInterval(C,1e4)})),(0,n.wF)((()=>{clearInterval(a)})),(e,a)=>((0,n.wg)(),(0,n.iD)("div",v,[(0,n.Wm)((0,u.SU)(o.ZP),{class:"stat-card",title:"运行环境"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,u.SU)(r.ZP),{column:1,"label-style":{width:"50%"}},{default:(0,n.w5)((()=>[(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"操作系统"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)((0,u.SU)(b).os),1)])),_:1}),(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"系统架构"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)((0,u.SU)(b).arch),1)])),_:1}),(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"Node版本"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,u.SU)(l.Z),{color:"processing",size:"small"},{default:(0,n.w5)((()=>[(0,n.Uk)("v"+(0,d.zw)((0,u.SU)(b).nodeVersion),1)])),_:1})])),_:1}),(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"NPM版本"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,u.SU)(l.Z),{color:"processing",size:"small"},{default:(0,n.w5)((()=>[(0,n.Uk)("v"+(0,d.zw)((0,u.SU)(b).npmVersion),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)((0,u.SU)(o.ZP),{class:"stat-card",title:"CPU"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,u.SU)(r.ZP),{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}},{default:(0,n.w5)((()=>[(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"详细"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)((0,u.SU)(W)),1)])),_:1}),(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"负载"},{default:(0,n.w5)((()=>[(0,n.Wm)(m.default,{percent:F((0,u.SU)(k).rawCurrentLoad,(0,u.SU)(k).rawCurrentLoadIdle+(0,u.SU)(k).rawCurrentLoad),strokeColor:P},null,8,["percent"])])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,u.SU)(k).coresLoad,((e,a)=>((0,n.wg)(),(0,n.j4)((0,u.SU)(r.ZP).Item,{key:a,label:`核心${a+1} 负载`},{default:(0,n.w5)((()=>[(0,n.Wm)(m.default,{percent:F(e.rawLoad,e.rawLoad+e.rawLoadIdle),strokeColor:P},null,8,["percent"])])),_:2},1032,["label"])))),128))])),_:1})])),_:1}),(0,n.Wm)((0,u.SU)(o.ZP),{class:"stat-card",title:"磁盘"},{default:(0,n.w5)((()=>[(0,n._)("div",f,[(0,n.Wm)((0,u.SU)(r.ZP),{class:"disk-info--item",column:1},{default:(0,n.w5)((()=>[(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"总空间"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)((0,u.SU)(y).size),1)])),_:1}),(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"已用空间"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)((0,u.SU)(y).used),1)])),_:1}),(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"可用空间"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)((0,u.SU)(y).available),1)])),_:1})])),_:1}),(0,n._)("div",w,[(0,n.Wm)(m.default,{type:"dashboard",percent:(0,u.SU)(g),width:100,strokeColor:P},null,8,["percent"])])])])),_:1}),(0,n.Wm)((0,u.SU)(o.ZP),{class:"stat-card",title:"内存"},{default:(0,n.w5)((()=>[(0,n._)("div",p,[(0,n.Wm)((0,u.SU)(r.ZP),{class:"disk-info--item",column:1},{default:(0,n.w5)((()=>[(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"总内存"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)((0,u.SU)(_).total),1)])),_:1}),(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"已用内存"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)((0,u.SU)(_).used),1)])),_:1}),(0,n.Wm)((0,u.SU)(r.ZP).Item,{label:"可用内存"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)((0,u.SU)(_).free),1)])),_:1})])),_:1}),(0,n._)("div",U,[(0,n.Wm)(m.default,{type:"dashboard",percent:(0,u.SU)(Z),width:100,strokeColor:P},null,8,["percent"])])])])),_:1})]))}});var h=(0,t(83744).Z)(b,[["__scopeId","data-v-6a8b5865"]])}}]);