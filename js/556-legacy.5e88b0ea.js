"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[556,1289],{71289:function(e,n,t){t.r(n),t.d(n,{setParentChecked:function(){return l},setChildrenChecked:function(){return u},updateNodeCheckStatus:function(){return r}});t(41539),t(54747);var l=function e(n){var t=null==n?void 0:n.children,l=null==t?void 0:t.length,u=!!l&&!t.some((function(e){return!e.checked})),r=!!l&&t.some((function(e){return e.checked||e.indeterminate}));n.checked=u,n.indeterminate=!u&&r,n.parent&&e(n.parent)},u=function e(n,t){null==n||n.forEach((function(n){var l;n.checked=t,n.indeterminate=!1,null!==(l=n.children)&&void 0!==l&&l.length&&e(n.children,t)}))},r=function(e,n){var t;n.checked=e,n.indeterminate=!1,Array.isArray(n.children)&&null!==(t=n.children)&&void 0!==t&&t.length&&u(n.children,e),n.parent&&l(n.parent)}},90556:function(e,n,t){t.r(n),t.d(n,{menuSchemas:function(){return i}});t(21249),t(47941);var l=t(2262),u=t(95707),r=t(31817),o=t(710),i=[{field:"type",component:"RadioGroup",label:"菜单类型",defaultValue:0,rules:[{required:!0,type:"number"}],componentProps:{options:[{label:"目录",value:0},{label:"菜单",value:1},{label:"权限",value:2}]}},{field:"name",component:"Input",label:"节点名称",rules:[{required:!0,type:"string"}]},{field:"parentId",component:"TreeSelect",label:"上级节点",componentProps:{fieldNames:{label:"name",value:"id"},getPopupContainer:function(){return document.body}},rules:[{required:!0,type:"number"}]},{field:"router",component:"Input",label:"节点路由",vIf:function(e){return 2!==e.formModel.type},rules:[{required:!0,type:"string"}]},{field:"perms",component:(0,l.XI)(r.default),label:"权限",vIf:function(e){return 2===e.formModel.type},rules:[{required:!0,type:"array",message:"请选择权限"}]},{field:"icon",component:(0,l.XI)(u.default),label:"节点图标",vIf:function(e){return 2!==e.formModel.type}},{field:"viewPath",component:"Select",label:"节点路径",vIf:function(e){return 1===e.formModel.type},componentProps:{options:Object.keys(o.constantRouterComponents).map((function(e){return{label:e,value:e}}))}},{field:"keepalive",component:"Switch",label:"是否缓存",defaultValue:!0,vIf:function(e){return 1===e.formModel.type}},{field:"isShow",component:"Switch",label:"是否显示",defaultValue:!0,vIf:function(e){return 2!==e.formModel.type}},{field:"orderNum",component:"InputNumber",label:"排序号",defaultValue:255,componentProps:{style:{width:"100%"}}}]},31817:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});t(93300);var l=t(96461),u=(t(38049),t(94776)),r=(t(89397),t(98704)),o=(t(50460),t(80044)),i=(t(41539),t(26699),t(32023),t(54747),t(21249),t(66252)),a=t(2262),c=t(49963),d=t(3577),f=t(30167),v=t(62854),p=t(26593),s=t(60191),h=t(71289),m={class:"input-box"},k=(0,i.aZ)({props:{value:{type:Array,default:function(){return[]},isRequired:!0}},emits:["update:value"],setup:function(e,n){var t=n.emit,k=e,g=(0,p.NCN)(k,"value",t),b=(0,a.iH)(),y=(0,a.iH)((0,f.ik)()),w=o.ZP.useInjectFormItemContext(),C=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.reduce((function(n,t){var l,u;return null!==(l=t.children)&&void 0!==l&&l.length||!t.checked||!t.value||n.push({label:t.value,value:t.value,node:t}),null!==(u=t.children)&&void 0!==u&&u.length&&e(t.children,n),n}),t)},S=function(e){var n=function e(n){return n.some((function(n){var t;return!!g.value.includes(n.value)||!(null===(t=n.children)||void 0===t||!t.length)&&e(n.children)}))};!function e(t){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==t||t.forEach((function(t){var u,r;null!==(u=t.children)&&void 0!==u&&u.length&&e(t.children,t),t.parent=l,t.indeterminate=!1,t.checked=g.value.includes(t.value),null!==(r=t.children)&&void 0!==r&&r.length&&(t.indeterminate=n(t.children))}))}(e)};S(y.value);var _=function(){g.value=[],setTimeout((function(){var e;y.value=(0,f.ik)(),S(y.value),null===(e=b.value)||void 0===e||e.clearCheck()}))},I=(0,a.Fl)((function(){return C(y.value)}));return(0,i.YP)((function(){return I.value}),(function(e){g.value=e.map((function(e){return e.value})),w.onFieldChange()})),function(e,n){return(0,i.wg)(),(0,i.j4)((0,a.SU)(r.Z),{placement:"bottomLeft",trigger:"click"},{content:(0,i.w5)((function(){return[(0,i.Wm)(v.default,{ref_key:"nodePanelRef",ref:b,options:y.value},null,8,["options"])]})),default:(0,i.w5)((function(){return[(0,i._)("div",m,[(0,i.Wm)((0,a.SU)(u.ZP),{placeholder:"请选择"},(0,i.Nv)({_:2},[(0,a.SU)(I).length?{name:"prefix",fn:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,a.SU)(I),(function(e){return(0,i.wg)(),(0,i.j4)((0,a.SU)(l.Z),{key:e.value,class:"tag-item",closable:"",onClose:(0,c.iM)((function(n){return function(e){(0,h.updateNodeCheckStatus)(!1,e.node)}(e)}),["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,d.zw)(e.label),1)]})),_:2},1032,["onClose"])})),128)),(0,i.Wm)((0,a.SU)(s.Z),{class:"clear-icon",onClick:(0,c.iM)(_,["prevent"])},null,8,["onClick"])]}))}:void 0]),1024)])]})),_:1})}}});var g=(0,t(83744).Z)(k,[["__scopeId","data-v-5cdcbb9b"]])},62854:function(e,n,t){t.r(n),t.d(n,{default:function(){return s}});t(79861);var l=t(36993),u=(t(69826),t(41539),t(54747),t(66252)),r=t(2262),o=t(3577),i=t(67944),a=t(71289),c={class:"flex"},d={class:"ant-cascader-menu min-w-150px"},f=["onClick"],v={class:"label"},p=(0,u.aZ)({props:{options:{type:Array,default:function(){return[]}}},setup:function(e,n){var t=n.expose,p=e,s=(0,r.iH)(),h=(0,r.iH)([]),m=(0,r.iH)(),k=function(){var e,n;return null===(e=p.options)||void 0===e||null===(n=e.find((function(e){return e.value===m.value})))||void 0===n?void 0:n.children},g=(0,r.Fl)(k);(0,u.YP)(g,(function(e){e||(h.value=[])}));return t({clearCheck:function(){var e;h.value.forEach((function(e){e.checked=!1,e.indeterminate=!1})),h.value.length&&setTimeout((function(){h.value=k()||[]})),null===(e=s.value)||void 0===e||e.clearCheck()}}),function(n,t){var p,k=(0,u.up)("node-panel",!0);return(0,u.wg)(),(0,u.iD)("div",c,[(0,u._)("div",d,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(e.options,(function(e){var n;return(0,u.wg)(),(0,u.iD)("div",{key:e.value,onClick:function(n){return t=e.children,l=e.value,h.value=t||[],void(m.value=l);var t,l},class:"check-row ant-cascader-menu-item ant-cascader-menu-item-expand"},[(0,u._)("div",null,[(0,u.Wm)((0,r.SU)(l.ZP),{checked:e.checked,"onUpdate:checked":function(n){return e.checked=n},indeterminate:e.indeterminate,onChange:function(n){return function(e,n){var t=e.target.checked;(0,a.updateNodeCheckStatus)(t,n)}(n,e)}},null,8,["checked","onUpdate:checked","indeterminate","onChange"]),(0,u._)("span",v,(0,o.zw)(e.label),1)]),null!==(n=e.children)&&void 0!==n&&n.length?((0,u.wg)(),(0,u.j4)((0,r.SU)(i.Z),{key:0,class:"arrow"})):(0,u.kq)("",!0)],8,f)})),128))]),null!==(p=h.value)&&void 0!==p&&p.length&&(0,r.SU)(g)?((0,u.wg)(),(0,u.j4)(k,{key:0,ref_key:"nodePanelRef",ref:s,options:h.value},null,8,["options"])):(0,u.kq)("",!0)])}}});var s=(0,t(83744).Z)(p,[["__scopeId","data-v-181ff138"]])}}]);