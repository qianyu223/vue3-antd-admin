"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[94,2407],{72407:function(e,t,i){i.r(t),i.d(t,{default:function(){return U}});i(49282);var n=i(47297),l=i(66252),a=i(2262),o=i(49963),r=i(3577),u=i(60191),c=i(78582),s=i(73974),d=i(27959),m=i(9173),g=i(83925);i(74916),i(23123),i(41539),i(78783),i(33948),i(60285),i(41637);function f(e){var t=e.lastIndexOf("/")+1,i=e.substring(t);return i=decodeURI(i.split("?")[0])}var v=["src","onLoad"],p=["src"],S={key:0,class:"toolbar"},h=(0,l.aZ)({props:{visible:{type:Boolean,default:!1},type:{default:"image"},url:{default:""}},emits:["update:visible"],setup:function(e,t){var i,h=t.emit,U=e,w=(0,a.iH)(),y=(0,a.qj)({timer:null,loading:!1,rotateDeg:0,imgScale:1,scaleCV:.07,initWidth:0,initHeight:0,contentStyle:{width:"60vw",height:"60vh"},imgStyle:{width:"",height:"",transform:"rotate(0)"}}),k=(0,a.Fl)({get:function(){return U.visible},set:function(e){return h("update:visible",e)}}),b=function(){y.rotateDeg-=90,y.imgStyle.transform="rotate(".concat(y.rotateDeg,"deg)")},W=function(e){!function(e){var t=e.url,i=e.target,n=void 0===i?"_blank":i,l=e.fileName,a=new URL(t).host==location.host;new Promise((function(e,i){if(a){var o=document.createElement("a");if(o.href=t,o.target=n,void 0!==o.download&&(o.download=l||f(t)),document.createEvent){var r=document.createEvent("MouseEvents");return r.initEvent("click",!0,!0),o.dispatchEvent(r),e(!0)}return-1===t.indexOf("?")&&(t+="?download"),window.open(t,n),e(!0)}var u=document.createElement("canvas"),c=document.createElement("img");c.setAttribute("crossOrigin","Anonymous"),c.src=t,c.onload=function(i){u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0,c.width,c.height),u.toBlob((function(i){var n=document.createElement("a");n.href=window.URL.createObjectURL(i),n.download=f(t),n.click(),URL.revokeObjectURL(n.href),e(!0)}),"image/jpeg")},c.onerror=function(e){return i(e)}}))}({url:e})},_=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scale";y.imgStyle.width=y.initWidth*y.imgScale+"px",y.imgStyle.height=y.initHeight*y.imgScale+"px","init"===t?(y.imgStyle.maxWidth="",y.imgStyle.maxHeight=""):(y.imgStyle.maxWidth="none!important",y.imgStyle.maxHeight="none!important"),clearTimeout(i),i=setTimeout((function(){var e;return null===(e=w.value)||void 0===e?void 0:e.classList.remove("active")}),1400),null===(e=w.value)||void 0===e||e.classList.add("active"),y.contentStyle={}},C=function(){y.imgScale=1,_()},Z=function(){y.imgScale+=y.scaleCV,_()},x=function(){y.imgScale-=y.scaleCV,_()},j=function(e){var t;if(null!==(t=e.currentTarget)&&void 0!==t&&t.complete){var i=getComputedStyle(e.currentTarget),n=i.width,l=i.height;y.imgStyle.width=n,y.imgStyle.height=l,y.initWidth=parseFloat(n),y.initHeight=parseFloat(l)}};return function(t,i){return(0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[(0,a.SU)(k)?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"preview-modal",onClick:i[4]||(i[4]=(0,o.iM)((function(e){return k.value=!1}),["self"]))},[(0,l.Wm)((0,a.SU)(u.Z),{class:"close-icon",onClick:i[0]||(i[0]=function(e){return k.value=!1})}),(0,l._)("div",{class:"preview-content",style:(0,r.j5)((0,a.SU)(y).contentStyle)},[(0,l.Wm)((0,a.SU)(n.Z),{spinning:(0,a.SU)(y).loading},{default:(0,l.w5)((function(){return["image"===e.type?((0,l.wg)(),(0,l.iD)("img",{key:0,ref:"img",style:(0,r.j5)((0,a.SU)(y).imgStyle),src:e.url,alt:"",onLoad:(0,o.iM)(j,["stop"])},null,44,v)):(0,l.kq)("",!0),"video"===e.type?((0,l.wg)(),(0,l.iD)("video",{key:1,ref:"video",src:e.url,controls:"",autoplay:"",onCanplay:i[1]||(i[1]=function(e){return(0,a.SU)(y).loading=!1}),onLoadstart:i[2]||(i[2]=function(e){return(0,a.SU)(y).loading=!0})},null,40,p)):(0,l.kq)("",!0),(0,l._)("div",{ref_key:"imgScaleMask",ref:w,class:"img-scale-mask"},(0,r.zw)(~~(100*(0,a.SU)(y).imgScale)+"%"),513)]})),_:1},8,["spinning"])],4),"image"===e.type?((0,l.wg)(),(0,l.iD)("div",S,[(0,l.Wm)((0,a.SU)(c.Z),{title:"放大",onClick:Z}),(0,l.Wm)((0,a.SU)(s.Z),{title:"缩放",onClick:x}),(0,l.Wm)((0,a.SU)(d.Z),{title:"原始比例",onClick:C}),(0,l.Wm)((0,a.SU)(m.Z),{title:"旋转",onClick:b}),(0,l.Wm)((0,a.SU)(g.Z),{title:"下载",onClick:i[3]||(i[3]=function(t){return W(e.url)})})])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])}}});var U=h},20094:function(e,t,i){i.r(t),i.d(t,{default:function(){return v}});i(12431);var n=i(66900),l=(i(58293),i(45542)),a=i(95082),o=i(66252),r=i(2262),u=i(15233),c=i(72407),s=(0,o.Uk)(" 示意图："),d=(0,o.Uk)(" (例如：//at.alicdn.com/t/font_1166867_7zdsgx6x88l.js) "),m=(0,o.Uk)(" （例如：icon-huanfu1、icon-zhutipifu、icon-xinwendongtai1） "),g={key:1},f=(0,o.aZ)((0,a.Z)((0,a.Z)({},{name:"CustomIcon"}),{},{setup:function(e){var t=(0,r.qj)({scriptUrl:"",iconName:"",visible:!1,imageUrl:""}),i=function(e){t.imageUrl=e.target.currentSrc,t.visible=!0};return function(e,a){var f=(0,o.up)("a-input"),v=(0,o.up)("a-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)((0,r.SU)(l.Z),{message:"自定义图标",description:"使用阿里图标库，可以有效减小项目的体积，支持离线本地图标和在线图标",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),(0,o.Wm)(v,null,{default:(0,o.w5)((function(){return[s,(0,o._)("img",{class:"image-demo",src:"http://ww1.sinaimg.cn/large/005IOlAWgy1gl8bm4ot9dj314r0opabq.jpg",onClick:i}),(0,r.SU)(t).visible?((0,o.wg)(),(0,o.j4)(c.default,{key:0,visible:(0,r.SU)(t).visible,"onUpdate:visible":a[0]||(a[0]=function(e){return(0,r.SU)(t).visible=e}),type:"image",url:(0,r.SU)(t).imageUrl},null,8,["visible","url"])):(0,o.kq)("",!0),(0,o.Wm)((0,r.SU)(n.ZP),{title:"使用示例",column:1},{default:(0,o.w5)((function(){return[(0,o.Wm)((0,r.SU)(n.ZP).Item,{label:"阿里图标路径"},{default:(0,o.w5)((function(){return[(0,o.Wm)(f,{value:(0,r.SU)(t).scriptUrl,"onUpdate:value":a[1]||(a[1]=function(e){return(0,r.SU)(t).scriptUrl=e}),style:{width:"400px"},placeholder:"请输入你的阿里巴巴矢量图标库项目图标的路径"},null,8,["value"]),d]})),_:1}),(0,o.Wm)((0,r.SU)(n.ZP).Item,{label:"图标名字"},{default:(0,o.w5)((function(){return[(0,o.Wm)(f,{value:(0,r.SU)(t).iconName,"onUpdate:value":a[2]||(a[2]=function(e){return(0,r.SU)(t).iconName=e}),placeholder:"请输入图标的名字",style:{width:"200px"}},null,8,["value"]),m]})),_:1}),(0,o.Wm)((0,r.SU)(n.ZP).Item,{label:"效果"},{default:(0,o.w5)((function(){return[(0,r.SU)(t).scriptUrl&&(0,r.SU)(t).iconName?((0,o.wg)(),(0,o.j4)((0,r.SU)(u.IconFont),{key:0,"script-url":(0,r.SU)(t).scriptUrl,type:(0,r.SU)(t).iconName,size:"30"},null,8,["script-url","type"])):((0,o.wg)(),(0,o.iD)("span",g,"可以复制示例的地址和图标查看效果"))]})),_:1})]})),_:1})]})),_:1})])}}}));var v=(0,i(83744).Z)(f,[["__scopeId","data-v-078d7f0b"]])}}]);